{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst form = document.querySelector(\".feedback-form\");\nconst localStorageKey = \"feedback-form-state\";\nconst { email, message } = form.elements;\n\nform.addEventListener(\"input\", throttle(onInputData, 500));\nform.addEventListener(\"submit\", onFormSubmit);\n\nlet dataForm = JSON.parse(localStorage.getItem(localStorageKey)) || {};\nreloadPage();\n\nfunction onInputData() {\n  dataForm = { email: email.value, message: message.value };\n  localStorage.setItem(localStorageKey, JSON.stringify(dataForm));\n}\n\nfunction reloadPage() {\n  email.value = dataForm.email || \"\";\n  message.value = dataForm.message || \"\";\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  console.log({ email: email.value, message: message.value });\n\n  if (email.value === \"\") {\n    return alert(\"Please fill your email\");\n  }\n    \n  if (message.value === \"\") {\n    return alert(\"Please write your message\");\n  }\n\n  localStorage.removeItem(localStorageKey);\n  event.currentTarget.reset();\n  dataForm = {};\n}\n"],"names":["form","localStorageKey","email","message","throttle","onInputData","onFormSubmit","dataForm","reloadPage","event"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,sBAClB,CAAE,MAAAC,EAAO,QAAAC,GAAYH,EAAK,SAEhCA,EAAK,iBAAiB,QAASI,EAASC,EAAa,GAAG,CAAC,EACzDL,EAAK,iBAAiB,SAAUM,CAAY,EAE5C,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQN,CAAe,CAAC,GAAK,GACpEO,IAEA,SAASH,GAAc,CACrBE,EAAW,CAAE,MAAOL,EAAM,MAAO,QAASC,EAAQ,OAClD,aAAa,QAAQF,EAAiB,KAAK,UAAUM,CAAQ,CAAC,CAChE,CAEA,SAASC,GAAa,CACpBN,EAAM,MAAQK,EAAS,OAAS,GAChCJ,EAAQ,MAAQI,EAAS,SAAW,EACtC,CAEA,SAASD,EAAaG,EAAO,CAI3B,GAHAA,EAAM,eAAc,EACpB,QAAQ,IAAI,CAAE,MAAOP,EAAM,MAAO,QAASC,EAAQ,KAAK,CAAE,EAEtDD,EAAM,QAAU,GAClB,OAAO,MAAM,wBAAwB,EAGvC,GAAIC,EAAQ,QAAU,GACpB,OAAO,MAAM,2BAA2B,EAG1C,aAAa,WAAWF,CAAe,EACvCQ,EAAM,cAAc,QACpBF,EAAW,CAAA,CACb"}